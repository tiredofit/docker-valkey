{
    "zabbix_export": {
        "version": "5.4",
        "date": "2021-12-13T23:03:32Z",
        "groups": [
            {
                "uuid": "748ad4d098d447d492bb935c907f652f",
                "name": "Templates/Databases"
            }
        ],
        "templates": [
            {
                "uuid": "e111446745a1425b862f8727ae63bce4",
                "template": "Valkey",
                "name": "Valkey",
                "description": "Get Valkey metrics from plugin for the Zabbix Agent 2\n\nThis template is meant specifically for https://github.com/tiredofit/docker-valkey",
                "groups": [
                    {
                        "name": "Templates/Databases"
                    }
                ],
                "items": [
                    {
                        "uuid": "bc4989f098954259924cbee6717519a7",
                        "name": "Valkey: Blocked clients",
                        "type": "DEPENDENT",
                        "key": "valkey.clients.blocked",
                        "delay": "0",
                        "history": "7d",
                        "description": "The number of connections waiting on a blocking call",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Clients.blocked_clients"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "6140e8ff18fe41c6b65165b0f5346c7b",
                        "name": "Valkey: Connected clients",
                        "type": "DEPENDENT",
                        "key": "valkey.clients.connected",
                        "delay": "0",
                        "history": "7d",
                        "description": "The number of connected clients",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Clients.connected_clients"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "3f5d6532f403436c823e1461e49e54c2",
                        "name": "Valkey: Max input buffer",
                        "type": "DEPENDENT",
                        "key": "valkey.clients.max_input_buffer",
                        "delay": "0",
                        "history": "7d",
                        "description": "The biggest input buffer among current client connections",
                        "preprocessing": [
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "var clients = JSON.parse(value).Clients\nreturn clients.client_recent_max_input_buffer || clients.client_biggest_input_buf"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "44788aa774e64fe685fe6496a9bea97d",
                        "name": "Valkey: Max output buffer",
                        "type": "DEPENDENT",
                        "key": "valkey.clients.max_output_buffer",
                        "delay": "0",
                        "history": "7d",
                        "description": "The biggest output buffer among current client connections",
                        "preprocessing": [
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "var clients = JSON.parse(value).Clients\nreturn clients.client_recent_max_output_buffer || clients.client_longest_output_list"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "74f9fe26bdaf4a7bb86214bd7d500363",
                        "name": "Valkey: Cluster enabled",
                        "type": "DEPENDENT",
                        "key": "valkey.cluster.enabled",
                        "delay": "0",
                        "history": "7d",
                        "description": "Indicate Valkey cluster is enabled",
                        "valuemap": {
                            "name": "Valkey flag"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Cluster.cluster_enabled"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "066486e3be25406185e624611eeb167a",
                        "name": "Valkey: Max clients",
                        "type": "DEPENDENT",
                        "key": "valkey.config.maxclients",
                        "delay": "0",
                        "history": "7d",
                        "description": "Max number of connected clients at the same time.\nOnce the limit is reached Valkey will close all the new connections sending an error \"max number of clients reached\".",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.maxclients"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "30m"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.config[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "bf68f3ecc3544ef0af00889139caf313",
                        "name": "Valkey: Get config",
                        "type": "ZABBIX_ACTIVE",
                        "key": "valkey.config[\"{$VALKEY.CONN.URI}\"]",
                        "history": "1h",
                        "trends": "0",
                        "value_type": "TEXT",
                        "preprocessing": [
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Zabbix raw items"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "819b379b51c34616820f86d21c703b27",
                                "expression": "last(/Valkey/valkey.config[\"{$VALKEY.CONN.URI}\"],#1)<>last(/Valkey/valkey.config[\"{$VALKEY.CONN.URI}\"],#2) and length(last(/Valkey/valkey.config[\"{$VALKEY.CONN.URI}\"]))>0",
                                "name": "Valkey: Configuration has changed",
                                "priority": "INFO",
                                "description": "Valkey configuration has changed. Ack to close.",
                                "manual_close": "YES"
                            }
                        ]
                    },
                    {
                        "uuid": "99d427f1f76a468c9878225abb8cebbd",
                        "name": "Valkey: CPU sys",
                        "type": "DEPENDENT",
                        "key": "valkey.cpu.sys",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "s",
                        "description": "System CPU consumed by the Valkey server",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.CPU.used_cpu_sys"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "1bfce9a62c924510a9cac3b04320d838",
                        "name": "Valkey: CPU sys children",
                        "type": "DEPENDENT",
                        "key": "valkey.cpu.sys_children",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "s",
                        "description": "System CPU consumed by the background processes",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.CPU.used_cpu_sys_children"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "83e7c9f5b8a24c949d72125671d6d39a",
                        "name": "Valkey: CPU user",
                        "type": "DEPENDENT",
                        "key": "valkey.cpu.user",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "s",
                        "description": "User CPU consumed by the Valkey server",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.CPU.used_cpu_user"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "8bc18ca0c79d4a81811b600cf3fe8ddd",
                        "name": "Valkey: CPU user children",
                        "type": "DEPENDENT",
                        "key": "valkey.cpu.user_children",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "s",
                        "description": "User CPU consumed by the background processes",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.CPU.used_cpu_user_children"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "720f146ffe7e481482e11db4b99634c8",
                        "name": "Valkey: Get info",
                        "type": "ZABBIX_ACTIVE",
                        "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]",
                        "history": "1h",
                        "trends": "0",
                        "value_type": "TEXT",
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Zabbix raw items"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "0a5176877ba24df8b5d38c8cc544f0a8",
                                "expression": "nodata(/Valkey/valkey.info[\"{$VALKEY.CONN.URI}\"],30m)=1",
                                "name": "Valkey: Failed to fetch info data (or no data for 30m)",
                                "priority": "WARNING",
                                "description": "Zabbix has not received data for items for the last 30 minutes",
                                "manual_close": "YES",
                                "dependencies": [
                                    {
                                        "name": "Valkey: Service is down",
                                        "expression": "last(/Valkey/valkey.ping[\"{$VALKEY.CONN.URI}\"])=0"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "5fe2afa1c8ff434a876822ea0b290659",
                        "name": "Valkey: Memory fragmentation ratio",
                        "type": "DEPENDENT",
                        "key": "valkey.memory.fragmentation_ratio",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "description": "This ratio is an indication of memory mapping efficiency:\n  \u2014 Value over 1.0 indicate that memory fragmentation is very likely. Consider restarting the Valkey server so the operating system can recover fragmented memory, especially with a ratio over 1.5.\n  \u2014 Value under 1.0 indicate that Valkey likely has insufficient memory available. Consider optimizing memory usage or adding more RAM.\n\nNote: If your peak memory usage is much higher than your current memory usage, the memory fragmentation ratio may be unreliable.\n\nhttps://valkey.io/topics/memory-optimization",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Memory.mem_fragmentation_ratio"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "629531ff1ebc4bdbb1f277848c436230",
                                "expression": "min(/Valkey/valkey.memory.fragmentation_ratio,15m)>{$VALKEY.MEM.FRAG_RATIO.MAX.WARN}",
                                "name": "Valkey: Memory fragmentation ratio is too high (over {$VALKEY.MEM.FRAG_RATIO.MAX.WARN} in 15m)",
                                "priority": "WARNING",
                                "description": "This ratio is an indication of memory mapping efficiency:\n  \u2014 Value over 1.0 indicate that memory fragmentation is very likely. Consider restarting the Valkey server so the operating system can recover fragmented memory, especially with a ratio over 1.5.\n  \u2014 Value under 1.0 indicate that Valkey likely has insufficient memory available. Consider optimizing memory usage or adding more RAM.\n\nNote: If your peak memory usage is much higher than your current memory usage, the memory fragmentation ratio may be unreliable.\n\nhttps://valkey.io/topics/memory-optimization"
                            }
                        ]
                    },
                    {
                        "uuid": "5fef1d341a974cc5aa164e550aff1537",
                        "name": "Valkey: Memory used",
                        "type": "DEPENDENT",
                        "key": "valkey.memory.used_memory",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Total number of bytes allocated by Valkey using its allocator",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Memory.used_memory"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "de026d98fd9146b78f9a0be2c0b9de10",
                        "name": "Valkey: Memory used Lua",
                        "type": "DEPENDENT",
                        "key": "valkey.memory.used_memory_lua",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Amount of memory used by the Lua engine",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Memory.used_memory_lua"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "d3f05ab1c0404f01875afb964d9820e2",
                        "name": "Valkey: Memory used peak",
                        "type": "DEPENDENT",
                        "key": "valkey.memory.used_memory_peak",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Peak memory consumed by Valkey (in bytes)",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Memory.used_memory_peak"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "ef06ae3dd4784702ad0d281da94c294d",
                        "name": "Valkey: Memory used RSS",
                        "type": "DEPENDENT",
                        "key": "valkey.memory.used_memory_rss",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Number of bytes that Valkey allocated as seen by the operating system",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Memory.used_memory_rss"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "86501872c68c4e9fa4b55aaacebb3c3c",
                        "name": "Valkey: AOF current rewrite time sec",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.aof_current_rewrite_time_sec",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "s",
                        "description": "Duration of the on-going AOF rewrite operation if any",
                        "valuemap": {
                            "name": "Valkey bgsave time"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.aof_current_rewrite_time_sec"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "d298e1ce9aa1481391a48754e2a648b0",
                        "name": "Valkey: AOF enabled",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.aof_enabled",
                        "delay": "0",
                        "history": "7d",
                        "description": "Flag indicating AOF logging is activated",
                        "valuemap": {
                            "name": "Valkey flag"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.aof_enabled"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "e2e62cc728c04169afeb051000042e28",
                        "name": "Valkey: AOF last bgrewrite status",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.aof_last_bgrewrite_status",
                        "delay": "0",
                        "history": "7d",
                        "description": "Status of the last AOF rewrite operation",
                        "valuemap": {
                            "name": "Valkey bgwrite status"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.aof_last_bgrewrite_status"
                                ]
                            },
                            {
                                "type": "BOOL_TO_DECIMAL",
                                "parameters": [
                                    ""
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "5a14501541c44699b81e3a89cc93d628",
                        "name": "Valkey: AOF last rewrite time sec",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.aof_last_rewrite_time_sec",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "s",
                        "description": "Duration of the last AOF rewrite",
                        "valuemap": {
                            "name": "Valkey bgsave time"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.aof_last_rewrite_time_sec"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "2cfd96e347d341219238bdaf65f1846d",
                        "name": "Valkey: AOF last write status",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.aof_last_write_status",
                        "delay": "0",
                        "history": "7d",
                        "description": "Status of the last write operation to the AOF",
                        "valuemap": {
                            "name": "Valkey bgwrite status"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.aof_last_write_status"
                                ]
                            },
                            {
                                "type": "BOOL_TO_DECIMAL",
                                "parameters": [
                                    ""
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "324e0e8fac514ba99d67aea7eb0ddf7c",
                                "expression": "last(/Valkey/valkey.persistence.aof_last_write_status)=0",
                                "name": "Valkey: Last AOF write operation failed",
                                "priority": "WARNING",
                                "description": "Detailed information about persistence: https://valkey.io/topics/persistence"
                            }
                        ]
                    },
                    {
                        "uuid": "3f4866909425447a828600e9b44ace5b",
                        "name": "Valkey: AOF rewrite in progress",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.aof_rewrite_in_progress",
                        "delay": "0",
                        "history": "7d",
                        "description": "Flag indicating a AOF rewrite operation is on-going",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.aof_rewrite_in_progress"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "83d243cc46304694954e08c0b03a3527",
                        "name": "Valkey: AOF rewrite scheduled",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.aof_rewrite_scheduled",
                        "delay": "0",
                        "history": "7d",
                        "description": "Flag indicating an AOF rewrite operation will be scheduled once the on-going RDB save is complete",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.aof_rewrite_scheduled"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "90df2d442dc049d690044b92e0888c31",
                        "name": "Valkey: Dump loading",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.loading",
                        "delay": "0",
                        "history": "7d",
                        "description": "Flag indicating if the load of a dump file is on-going",
                        "valuemap": {
                            "name": "Valkey flag"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.loading"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "5b1ecad187764429a22cbeb69afa3a28",
                        "name": "Valkey: RDB bgsave in progress",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.rdb_bgsave_in_progress",
                        "delay": "0",
                        "history": "7d",
                        "description": "\"1\" if bgsave is in progress and \"0\" otherwise",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.rdb_bgsave_in_progress"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "ea673953a3014dc091ec62a20ee53945",
                        "name": "Valkey: RDB changes since last save",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.rdb_changes_since_last_save",
                        "delay": "0",
                        "history": "7d",
                        "description": "Number of changes since the last background save",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.rdb_changes_since_last_save"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "d8c4d8fceeb5482a951999eedd350f73",
                        "name": "Valkey: RDB current bgsave time sec",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.rdb_current_bgsave_time_sec",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "s",
                        "description": "Duration of the on-going RDB save operation if any",
                        "valuemap": {
                            "name": "Valkey bgsave time"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.rdb_current_bgsave_time_sec"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "e25772b422314949a564f219d6f725bc",
                        "name": "Valkey: RDB last bgsave status",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.rdb_last_bgsave_status",
                        "delay": "0",
                        "history": "7d",
                        "description": "Status of the last RDB save operation",
                        "valuemap": {
                            "name": "Valkey bgwrite status"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.rdb_last_bgsave_status"
                                ]
                            },
                            {
                                "type": "BOOL_TO_DECIMAL",
                                "parameters": [
                                    ""
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "44e427ae3ce7419dbac3059be11e31ef",
                                "expression": "last(/Valkey/valkey.persistence.rdb_last_bgsave_status)=0",
                                "name": "Valkey: Last RDB save operation failed",
                                "priority": "WARNING",
                                "description": "Detailed information about persistence: https://valkey.io/topics/persistence"
                            }
                        ]
                    },
                    {
                        "uuid": "f506941104e34db08c0d8f5a6d9d9710",
                        "name": "Valkey: RDB last bgsave time sec",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.rdb_last_bgsave_time_sec",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "s",
                        "description": "Duration of the last bg_save operation",
                        "valuemap": {
                            "name": "Valkey bgsave time"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.rdb_last_bgsave_time_sec"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "04e1c21ca49246d7aba062cd001a8c00",
                        "name": "Valkey: RDB last save time",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.rdb_last_save_time",
                        "delay": "0",
                        "history": "7d",
                        "description": "Epoch-based timestamp of last successful RDB save",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Persistence.rdb_last_save_time"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "5949fadcbe2b405baff0668e81627278",
                        "name": "Valkey: Ping",
                        "type": "ZABBIX_ACTIVE",
                        "key": "valkey.ping[\"{$VALKEY.CONN.URI}\"]",
                        "history": "7h",
                        "valuemap": {
                            "name": "Service state"
                        },
                        "preprocessing": [
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "10m"
                                ]
                            }
                        ],
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "62353f9ed6204b70ba270827c3922244",
                                "expression": "last(/Valkey/valkey.ping[\"{$VALKEY.CONN.URI}\"])=0",
                                "name": "Valkey: Service is down",
                                "priority": "AVERAGE",
                                "manual_close": "YES"
                            }
                        ]
                    },
                    {
                        "uuid": "6680a01fb98c4504bed6458ba6cde146",
                        "name": "Valkey: Connected slaves",
                        "type": "DEPENDENT",
                        "key": "valkey.replication.connected_slaves",
                        "delay": "0",
                        "history": "7d",
                        "description": "Number of connected slaves",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Replication.connected_slaves"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "6d213088211a4bb38ff97b59113dccd9",
                                "expression": "last(/Valkey/valkey.replication.connected_slaves,#1)<>last(/Valkey/valkey.replication.connected_slaves,#2)",
                                "recovery_mode": "NONE",
                                "name": "Valkey: Number of slaves has changed",
                                "priority": "INFO",
                                "description": "Valkey number of slaves has changed. Ack to close.",
                                "manual_close": "YES"
                            }
                        ]
                    },
                    {
                        "uuid": "37fa1595299c4a3ea091039f4db47cf3",
                        "name": "Valkey: Master replication offset",
                        "type": "DEPENDENT",
                        "key": "valkey.replication.master_repl_offset",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Replication offset reported by the master",
                        "valuemap": {
                            "name": "Valkey repl offset"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Replication.master_repl_offset"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "cf067374339e44e5a4ba2cd70d4fec3a",
                        "name": "Valkey: Replication backlog active",
                        "type": "DEPENDENT",
                        "key": "valkey.replication.repl_backlog_active",
                        "delay": "0",
                        "history": "7d",
                        "description": "Flag indicating replication backlog is active",
                        "valuemap": {
                            "name": "Valkey flag"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Replication.repl_backlog_active"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "b4ea8df4d73144f99ffd4f5f6e6359ef",
                        "name": "Valkey: Replication backlog first byte offset",
                        "type": "DEPENDENT",
                        "key": "valkey.replication.repl_backlog_first_byte_offset",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "The master offset of the replication backlog buffer",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Replication.repl_backlog_first_byte_offset"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "081cd9df926d48cea7e5c68f7761ddb1",
                        "name": "Valkey: Replication backlog history length",
                        "type": "DEPENDENT",
                        "key": "valkey.replication.repl_backlog_histlen",
                        "delay": "0",
                        "history": "7d",
                        "description": "Amount of data in the backlog sync buffer",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Replication.repl_backlog_histlen"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "a437a46aafe3413884975fc480091bb5",
                        "name": "Valkey: Replication backlog size",
                        "type": "DEPENDENT",
                        "key": "valkey.replication.repl_backlog_size",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "Total size in bytes of the replication backlog buffer",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Replication.repl_backlog_size"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "d8371457697744159aabc3bdece4af2e",
                        "name": "Valkey: Replication role",
                        "type": "DEPENDENT",
                        "key": "valkey.replication.role",
                        "delay": "0",
                        "history": "7d",
                        "trends": "0",
                        "value_type": "CHAR",
                        "description": "Value is \"master\" if the instance is replica of no one, or \"slave\" if the instance is a replica of some master instance. Note that a replica can be master of another replica (chained replication).",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Replication.role"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1d"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "d24f7aabefb345e791b3bb276f30ac8c",
                                "expression": "last(/Valkey/valkey.replication.role,#1)<>last(/Valkey/valkey.replication.role,#2) and length(last(/Valkey/valkey.replication.role))>0",
                                "recovery_mode": "NONE",
                                "name": "Valkey: Replication role has changed (new role: {ITEM.VALUE})",
                                "priority": "WARNING",
                                "description": "Valkey replication role has changed. Ack to close.",
                                "manual_close": "YES"
                            }
                        ]
                    },
                    {
                        "uuid": "8a08d4f30b78448986b9fd94cafd398c",
                        "name": "Valkey: Process id",
                        "type": "DEPENDENT",
                        "key": "valkey.server.process_id",
                        "delay": "0",
                        "history": "7d",
                        "description": "PID of the server process",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Server.process_id"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1d"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "b2deab550d984b3e93741c53019e7f89",
                        "name": "Valkey: Valkey mode",
                        "type": "DEPENDENT",
                        "key": "valkey.server.valkey_mode",
                        "delay": "0",
                        "history": "7d",
                        "trends": "0",
                        "value_type": "CHAR",
                        "description": "The server's mode (\"standalone\", \"sentinel\" or \"cluster\")",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Server.valkey_mode"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1d"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "9699d6a6563b498ea73f88a4c1dd9cf1",
                        "name": "Valkey: Valkey version",
                        "type": "DEPENDENT",
                        "key": "valkey.server.valkey_version",
                        "delay": "0",
                        "history": "7d",
                        "trends": "0",
                        "value_type": "CHAR",
                        "description": "Version of the Valkey server",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Server.valkey_version"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1d"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "6e307546b26344deb83f2295c90e9a33",
                                "expression": "last(/Valkey/valkey.server.valkey_version,#1)<>last(/Valkey/valkey.server.valkey_version,#2) and length(last(/Valkey/valkey.server.valkey_version))>0",
                                "name": "Valkey: Version has changed (new version: {ITEM.VALUE})",
                                "priority": "INFO",
                                "description": "Valkey version has changed. Ack to close.",
                                "manual_close": "YES"
                            }
                        ]
                    },
                    {
                        "uuid": "8c28e54f9e5d40d6b69c1f5b39b85054",
                        "name": "Valkey: TCP port",
                        "type": "DEPENDENT",
                        "key": "valkey.server.tcp_port",
                        "delay": "0",
                        "history": "7d",
                        "description": "TCP/IP listen port",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Server.tcp_port"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1d"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "af225edd976146f2920bc05afb703f14",
                        "name": "Valkey: Uptime",
                        "type": "DEPENDENT",
                        "key": "valkey.server.uptime",
                        "delay": "0",
                        "history": "7d",
                        "units": "s",
                        "description": "Number of seconds since Valkey server start",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Server.uptime_in_seconds"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "4961e91eed2a4e83899d135315748b0e",
                                "expression": "last(/Valkey/valkey.server.uptime)<10m",
                                "name": "Valkey: has been restarted (uptime < 10m)",
                                "priority": "INFO",
                                "description": "Uptime is less than 10 minutes",
                                "manual_close": "YES"
                            }
                        ]
                    },
                    {
                        "uuid": "51a65fa1d27e4fcd915c5019687e7bc9",
                        "name": "Valkey: Slowlog entries per second",
                        "type": "ZABBIX_ACTIVE",
                        "key": "valkey.slowlog.count[\"{$VALKEY.CONN.URI}\"]",
                        "history": "7d",
                        "preprocessing": [
                            {
                                "type": "CHANGE_PER_SECOND",
                                "parameters": [
                                    ""
                                ]
                            }
                        ],
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "37fb0255e49c42c8913e56fe4aaa1d14",
                                "expression": "min(/Valkey/valkey.slowlog.count[\"{$VALKEY.CONN.URI}\"],5m)>{$VALKEY.SLOWLOG.COUNT.MAX.WARN}",
                                "name": "Valkey: Too many entries in the slowlog (over {$VALKEY.SLOWLOG.COUNT.MAX.WARN} per second in 5m)",
                                "priority": "INFO"
                            }
                        ]
                    },
                    {
                        "uuid": "eca69284ac8e4ae3a7e965b6549e9343",
                        "name": "Valkey: Evicted keys",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.evicted_keys",
                        "delay": "0",
                        "history": "7d",
                        "description": "Number of evicted keys due to maxmemory limit",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.evicted_keys"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "0a77355cfba348bb8884d2405892ed5d",
                        "name": "Valkey: Expired keys",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.expired_keys",
                        "delay": "0",
                        "history": "7d",
                        "description": "Total number of key expiration events",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.expired_keys"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "5841b6f2a76b432080029367e7008cd1",
                        "name": "Valkey: Instantaneous input bytes per second",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.instantaneous_input.rate",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "Bps",
                        "description": "The network's read rate per second in KB/sec",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.instantaneous_input_kbps"
                                ]
                            },
                            {
                                "type": "MULTIPLIER",
                                "parameters": [
                                    "1024"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "3552b285d7ca41f796c1838e268a92c1",
                        "name": "Valkey: Instantaneous operations per sec",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.instantaneous_ops.rate",
                        "delay": "0",
                        "history": "7d",
                        "description": "Number of commands processed per second",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.instantaneous_ops_per_sec"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "86c05ed58e8448e9b7307a3c82e182af",
                        "name": "Valkey: Instantaneous output bytes per second",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.instantaneous_output.rate",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "Bps",
                        "description": "The network's write rate per second in KB/sec",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.instantaneous_output_kbps"
                                ]
                            },
                            {
                                "type": "MULTIPLIER",
                                "parameters": [
                                    "1024"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "66d30a422e704174ae7700e1dd006aa1",
                        "name": "Valkey: Keyspace hits",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.keyspace_hits",
                        "delay": "0",
                        "history": "7d",
                        "description": "Number of successful lookup of keys in the main dictionary",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.keyspace_hits"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "e24da63a83dc4223bed35cf80fc22300",
                        "name": "Valkey: Keyspace misses",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.keyspace_misses",
                        "delay": "0",
                        "history": "7d",
                        "description": "Number of failed lookup of keys in the main dictionary",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.keyspace_misses"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "1f11810f06d44e498a895c516f902f95",
                        "name": "Valkey: Latest fork usec",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.latest_fork_usec",
                        "delay": "0",
                        "history": "7d",
                        "units": "s",
                        "description": "Duration of the latest fork operation in microseconds",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.latest_fork_usec"
                                ]
                            },
                            {
                                "type": "MULTIPLIER",
                                "parameters": [
                                    "1.0E-5"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "2662dfd3524749998306f1d7afe33019",
                        "name": "Valkey: Migrate cached sockets",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.migrate_cached_sockets",
                        "delay": "0",
                        "history": "7d",
                        "description": "The number of sockets open for MIGRATE purposes",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.migrate_cached_sockets"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "186e6bda0a0e463bb8218a58f227ff2b",
                        "name": "Valkey: Pubsub channels",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.pubsub_channels",
                        "delay": "0",
                        "history": "7d",
                        "description": "Global number of pub/sub channels with client subscriptions",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.pubsub_channels"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "1e0711a2b40e4fea88c0c57a1f6d2b30",
                        "name": "Valkey: Pubsub patterns",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.pubsub_patterns",
                        "delay": "0",
                        "history": "7d",
                        "description": "Global number of pub/sub pattern with client subscriptions",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.pubsub_patterns"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "65135267c836435d872325a7129e5857",
                        "name": "Valkey: Rejected connections",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.rejected_connections",
                        "delay": "0",
                        "history": "7d",
                        "description": "Number of connections rejected because of maxclients limit",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.rejected_connections"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "5bf0680529ce496b8fe419e2732c69d1",
                                "expression": "last(/Valkey/valkey.stats.rejected_connections)>0",
                                "name": "Valkey: Connections are rejected",
                                "priority": "HIGH",
                                "description": "The number of connections has reached the value of \"maxclients\".\n\nhttps://valkey.io/topics/clients"
                            }
                        ]
                    },
                    {
                        "uuid": "37135fd8b7e94c41bc21e802f21baeb4",
                        "name": "Valkey: Sync full",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.sync_full",
                        "delay": "0",
                        "history": "7d",
                        "description": "The number of full resyncs with replicas",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.sync_full"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "cb5b6380b164419280fdcd98077c5d8f",
                        "name": "Valkey: Sync partial err",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.sync_partial_err",
                        "delay": "0",
                        "history": "7d",
                        "description": "The number of denied partial resync requests",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.sync_partial_err"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "231560fd350e4b5096b242dddecd7c8b",
                        "name": "Valkey: Sync partial ok",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.sync_partial_ok",
                        "delay": "0",
                        "history": "7d",
                        "description": "The number of accepted partial resync requests",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.sync_partial_ok"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "278ff045f367443380fcd594dba77d53",
                        "name": "Valkey: Total commands processed",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.total_commands_processed",
                        "delay": "0",
                        "history": "7d",
                        "description": "Total number of commands processed by the server",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.total_commands_processed"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "c9afbbbec8a44926887389a590f1df91",
                        "name": "Valkey: Total connections received",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.total_connections_received",
                        "delay": "0",
                        "history": "7d",
                        "description": "Total number of connections accepted by the server",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.total_connections_received"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "838cb6cbfd8a42e1b9cfa4a60670324a",
                        "name": "Valkey: Total net input bytes",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.total_net_input_bytes",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "The total number of bytes read from the network",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.total_net_input_bytes"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    },
                    {
                        "uuid": "762f6b06eb094de896d265fcf3f9a603",
                        "name": "Valkey: Total net output bytes",
                        "type": "DEPENDENT",
                        "key": "valkey.stats.total_net_output_bytes",
                        "delay": "0",
                        "history": "7d",
                        "units": "B",
                        "description": "The total number of bytes written to the network",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Stats.total_net_output_bytes"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "tags": [
                            {
                                "tag": "Application",
                                "value": "Valkey"
                            }
                        ]
                    }
                ],
                "discovery_rules": [
                    {
                        "uuid": "527a3526b0e64225bb3dcf2dbbfbda5b",
                        "name": "Process metrics discovery",
                        "type": "ZABBIX_ACTIVE",
                        "key": "proc.num[\"{$VALKEY.LLD.PROCESS_NAME}\"]",
                        "delay": "1h",
                        "description": "Collect metrics by Zabbix agent if it exists",
                        "item_prototypes": [
                            {
                                "uuid": "376a8861723c45c3bde08573c7ab2ed9",
                                "name": "Valkey: CPU utilization",
                                "key": "proc.cpu.util[\"{$VALKEY.PROCESS_NAME}{#SINGLETON}\"]",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "units": "%",
                                "description": "Process CPU utilization percentage.",
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "9d68e00f913a4faea5a334d361f324b0",
                                "name": "Valkey: Memory usage (rss)",
                                "key": "proc.mem[\"{$VALKEY.PROCESS_NAME}{#SINGLETON}\",,,,rss]",
                                "history": "7d",
                                "units": "B",
                                "description": "Resident set size memory used by process in bytes.",
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "325cabaa95994a58bf30992586ba7544",
                                "name": "Valkey: Memory usage (vsize)",
                                "key": "proc.mem[\"{$VALKEY.PROCESS_NAME}{#SINGLETON}\",,,,vsize]",
                                "history": "7d",
                                "units": "B",
                                "description": "Virtual memory size used by process in bytes.",
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "d9ccc25e5d1b4f05b22354a7672b518c",
                                "name": "Valkey: Number of processes running",
                                "key": "proc.num[\"{$VALKEY.PROCESS_NAME}{#SINGLETON}\"]",
                                "history": "7d",
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ],
                                "trigger_prototypes": [
                                    {
                                        "uuid": "590bd23c52b74dd7951dcf74903ac2ed",
                                        "expression": "last(/Valkey/proc.num[\"{$VALKEY.PROCESS_NAME}{#SINGLETON}\"])=0",
                                        "name": "Valkey: Process is not running",
                                        "priority": "HIGH"
                                    }
                                ]
                            }
                        ],
                        "graph_prototypes": [
                            {
                                "uuid": "e26f8c31c3654febbeda2ffb97438c36",
                                "name": "Valkey: Memory usage{#SINGLETON}",
                                "graph_items": [
                                    {
                                        "color": "1A7C11",
                                        "item": {
                                            "host": "Valkey",
                                            "key": "proc.mem[\"{$VALKEY.PROCESS_NAME}{#SINGLETON}\",,,,vsize]"
                                        }
                                    },
                                    {
                                        "sortorder": "1",
                                        "color": "2774A4",
                                        "item": {
                                            "host": "Valkey",
                                            "key": "proc.mem[\"{$VALKEY.PROCESS_NAME}{#SINGLETON}\",,,,rss]"
                                        }
                                    }
                                ]
                            }
                        ],
                        "preprocessing": [
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "return JSON.stringify(value > 0 ? [{'{#SINGLETON}': ''}] : []);"
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "0f7966f47fda4b41856163ffb438bf27",
                        "name": "Keyspace discovery",
                        "type": "DEPENDENT",
                        "key": "valkey.keyspace.discovery",
                        "delay": "0",
                        "filter": {
                            "evaltype": "AND",
                            "conditions": [
                                {
                                    "macro": "{#DB}",
                                    "value": "{$VALKEY.LLD.FILTER.DB.MATCHES}",
                                    "formulaid": "A"
                                },
                                {
                                    "macro": "{#DB}",
                                    "value": "{$VALKEY.LLD.FILTER.DB.NOT_MATCHES}",
                                    "operator": "NOT_MATCHES_REGEX",
                                    "formulaid": "B"
                                }
                            ]
                        },
                        "description": "Individual keyspace metrics",
                        "item_prototypes": [
                            {
                                "uuid": "38fcb8524f1b4f50a4945333fc6c7536",
                                "name": "DB {#DB}: Average TTL",
                                "type": "DEPENDENT",
                                "key": "valkey.db.avg_ttl[\"{#DB}\"]",
                                "delay": "0",
                                "history": "7d",
                                "units": "s",
                                "description": "Average TTL",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Keyspace[\"{#DB}\"].avg_ttl"
                                        ]
                                    },
                                    {
                                        "type": "MULTIPLIER",
                                        "parameters": [
                                            "0.001"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey: DB {#DB}"
                                    }
                                ]
                            },
                            {
                                "uuid": "bde12d459b7b4e23a22ed6188b57bb25",
                                "name": "DB {#DB}: Expires",
                                "type": "DEPENDENT",
                                "key": "valkey.db.expires[\"{#DB}\"]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Number of keys with an expiration",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Keyspace[\"{#DB}\"].expires"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey: DB {#DB}"
                                    }
                                ]
                            },
                            {
                                "uuid": "2bae0d2f8b8348bcad207b61ef6286c3",
                                "name": "DB {#DB}: Keys",
                                "type": "DEPENDENT",
                                "key": "valkey.db.keys[\"{#DB}\"]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Total number of keys",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Keyspace[\"{#DB}\"].keys"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey: DB {#DB}"
                                    }
                                ]
                            }
                        ],
                        "graph_prototypes": [
                            {
                                "uuid": "3271f3a143dc43f38a674b6cbae8cd0d",
                                "name": "DB {#DB}: Keys",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "1A7C11",
                                        "item": {
                                            "host": "Valkey",
                                            "key": "valkey.db.keys[\"{#DB}\"]"
                                        }
                                    },
                                    {
                                        "sortorder": "1",
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "2774A4",
                                        "item": {
                                            "host": "Valkey",
                                            "key": "valkey.db.expires[\"{#DB}\"]"
                                        }
                                    }
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "preprocessing": [
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "return JSON.stringify(Object.keys(JSON.parse(value).Keyspace)\n  .map(function (v){return {\"{#DB}\": v}}));"
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "a3fb00d4bbc24779b6c7223b867f4d2c",
                        "name": "Version 4+ metrics discovery",
                        "type": "DEPENDENT",
                        "key": "valkey.metrics.v4.discovery",
                        "delay": "0",
                        "description": "Additional metrics for versions 4+",
                        "item_prototypes": [
                            {
                                "uuid": "b7e8d996335f41158b3c6a8961319db0",
                                "name": "Valkey: Active defrag running{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.active_defrag_running[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Flag indicating if active defragmentation is active",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.active_defrag_running"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "2065e38cd7e5417abfd0b80116b0d77b",
                                "name": "Valkey: Lazyfree pending objects{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.lazyfree_pending_objects[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "The number of objects waiting to be freed (as a result of calling UNLINK, or FLUSHDB and FLUSHALL with the ASYNC option)",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.lazyfree_pending_objects"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "2c5c700b53374dac86d805384b6bc9b0",
                                "name": "Valkey: Max memory{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.maxmemory[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "Maximum amount of memory allocated to the Valkeydb system",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.maxmemory"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "0f094be6d0fa4afda3aa7916fac4d3a3",
                                "name": "Valkey: Max memory policy{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.maxmemory_policy[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "trends": "0",
                                "value_type": "CHAR",
                                "description": "The value of the maxmemory-policy configuration directive",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.maxmemory_policy"
                                        ]
                                    },
                                    {
                                        "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                        "parameters": [
                                            "1d"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "bf804c6ee44640168e15ca62803b7f10",
                                "name": "Valkey: Total system memory{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.total_system_memory[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "The total amount of memory that the Valkey host has",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.total_system_memory"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "1c0e0355d5cd429f9a914fb67f29e366",
                                "name": "Valkey: Memory used dataset{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.used_memory_dataset[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "The size in bytes of the dataset",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.used_memory_dataset"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "4e5937420b3843568d9f36b40c0a3c28",
                                "name": "Valkey: Memory used dataset %{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.used_memory_dataset_perc[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "units": "%",
                                "description": "The percentage of used_memory_dataset out of the net memory usage (used_memory minus used_memory_startup)",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.used_memory_dataset_perc"
                                        ]
                                    },
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "(.+)%",
                                            "\\1"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "e085382c18f3473f9d2271024cd61e93",
                                "name": "Valkey: Memory used overhead{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.used_memory_overhead[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "The sum in bytes of all overheads that the server allocated for managing its internal data structures",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.used_memory_overhead"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "5da63141e8b145a38954736806602b4a",
                                "name": "Valkey: Memory used peak %{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.used_memory_peak_perc[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "units": "%",
                                "description": "The percentage of used_memory_peak out of used_memory",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.used_memory_peak_perc"
                                        ]
                                    },
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "(.+)%",
                                            "\\1"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "dabd2918056b4b999f4b30bd8e64e8a1",
                                "name": "Valkey: Memory used startup{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.used_memory_startup[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "Initial amount of memory consumed by Valkey at startup in bytes",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.used_memory_startup"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "9da41967290742cb8daa2f69ac1d6966",
                                "name": "Valkey: AOF last CoW size{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.persistence.aof_last_cow_size[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "The size in bytes of copy-on-write allocations during the last AOF rewrite operation",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Persistence.aof_last_cow_size"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "768839c72e3f4be89e30dd0d140c9d03",
                                "name": "Valkey: RDB last CoW size{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.persistence.rdb_last_cow_size[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "The size in bytes of copy-on-write allocations during the last RDB save operation",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Persistence.rdb_last_cow_size"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "bead155d26054d0487622f29b86dcd2b",
                                "name": "Valkey: Replication second offset{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.second_repl_offset[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "units": "B",
                                "description": "Offset up to which replication IDs are accepted",
                                "valuemap": {
                                    "name": "Valkey repl offset"
                                },
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Replication.second_repl_offset"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "14d062351a114e8eafa2b2b889317903",
                                "name": "Valkey: Executable path{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.server.executable[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "trends": "0",
                                "value_type": "CHAR",
                                "description": "The path to the server's executable",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Server.executable"
                                        ]
                                    },
                                    {
                                        "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                        "parameters": [
                                            "1d"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "5458542148954618a6d22df1effffe57",
                                "name": "Valkey: Active defrag hits{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.stats.active_defrag_hits[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Number of value reallocations performed by active the defragmentation process",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Stats.active_defrag_hits"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "f8b424743dd24691be2bd07d5538b16a",
                                "name": "Valkey: Active defrag key hits{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.stats.active_defrag_key_hits[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Number of keys that were actively defragmented",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Stats.active_defrag_key_hits"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "8aba0ad8d7314b6b8cf1e80cb0afb618",
                                "name": "Valkey: Active defrag key misses{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.stats.active_defrag_key_misses[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Number of keys that were skipped by the active defragmentation process",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Stats.active_defrag_key_misses"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "3c20cca8b4a84c619d90d64a34386dfa",
                                "name": "Valkey: Active defrag misses{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.stats.active_defrag_misses[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Number of aborted value reallocations started by the active defragmentation process",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Stats.active_defrag_misses"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "a34f4e33a0cb4381b5c3b7a507e90bee",
                                "name": "Valkey: Expired stale %{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.stats.expired_stale_perc[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Stats.expired_stale_perc"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "81667ae170b04ac0980e122566c5ed8e",
                                "name": "Valkey: Expired time cap reached count{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.stats.expired_time_cap_reached_count[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Stats.expired_time_cap_reached_count"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "93bf8753d6b242f1b8d2288fb926e01b",
                                "name": "Valkey: Slave expires tracked keys{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.stats.slave_expires_tracked_keys[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "The number of keys tracked for expiry purposes (applicable only to writable replicas)",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Stats.slave_expires_tracked_keys"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            }
                        ],
                        "trigger_prototypes": [
                            {
                                "uuid": "0c3560588d2d421c843c006ef5fa4645",
                                "expression": "last(/Valkey/valkey.memory.used_memory)/min(/Valkey/valkey.memory.maxmemory[{#SINGLETON}],5m)*100>{$VALKEY.MEM.PUSED.MAX.WARN}",
                                "name": "Valkey: Memory usage is too high (over {$VALKEY.MEM.PUSED.MAX.WARN}% in 5m)",
                                "priority": "WARNING"
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Server.valkey_version"
                                ]
                            },
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "return JSON.stringify(parseInt(value.split('.')[0]) >= 4 ? [{'{#SINGLETON}': ''}] : []);"
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "f7a9f1e26bb54cb6adf74ee9f30d88cd",
                        "name": "Version 5+ metrics discovery",
                        "type": "DEPENDENT",
                        "key": "valkey.metrics.v5.discovery",
                        "delay": "0",
                        "description": "Additional metrics for versions 5+",
                        "item_prototypes": [
                            {
                                "uuid": "adc25c08108e4fcaa3b41d2897d0a0c6",
                                "name": "Valkey: Allocator active{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.allocator_active[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.allocator_active"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "81ef89fc751746ac8254a55a2b2e4ea7",
                                "name": "Valkey: Allocator allocated{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.allocator_allocated[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.allocator_allocated"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "23e034630d7246f7ba993d5c6db2d6bb",
                                "name": "Valkey: Allocator fragmentation bytes{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.allocator_frag_bytes[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.allocator_frag_bytes"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "690a13b13d134f648b4b8381f6a185f0",
                                "name": "Valkey: Allocator fragmentation ratio{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.allocator_frag_ratio[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.allocator_frag_ratio"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "0abd6a9adb034536b3a389e0af2af732",
                                "name": "Valkey: Allocator resident{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.allocator_resident[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.allocator_resident"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "b5ecad496c554ccaad495d2f112b5e2f",
                                "name": "Valkey: Allocator RSS bytes{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.allocator_rss_bytes[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.allocator_rss_bytes"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "643fe70e1a7f488196b053722a2df9c2",
                                "name": "Valkey: Allocator RSS ratio{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.allocator_rss_ratio[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.allocator_rss_ratio"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "40a639acab5a415a8fb48b7520b7d198",
                                "name": "Valkey: Memory fragmentation bytes{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.fragmentation_bytes[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.mem_fragmentation_bytes"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "70c53f60d020440c8f7cba83b32f58c9",
                                "name": "Valkey: Memory AOF buffer{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.mem_aof_buffer[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Size of the AOF buffer",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.mem_aof_buffer"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "d64718269f20470e9661ff7c479dc300",
                                "name": "Valkey: Memory clients normal{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.mem_clients_normal[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.mem_clients_normal"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "e685ab11ab534f8abd1a7e2ee35839e8",
                                "name": "Valkey: Memory clients slaves{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.mem_clients_slaves[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.mem_clients_slaves"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "f6c9bfda015d47d0b34f466e95356a5d",
                                "name": "Valkey: Memory not counted for evict{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.not_counted_for_evict[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.mem_not_counted_for_evict"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "eaac8b142fc540ad9c7563e145819643",
                                "name": "Valkey: Memory number of cached scripts{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.number_of_cached_scripts[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.number_of_cached_scripts"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "a221fd161be641c1a8091d0bfd1d2157",
                                "name": "Valkey: Memory replication backlog{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.replication_backlog[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.mem_replication_backlog"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "e699ad3b29ca486f91688684ffde6b73",
                                "name": "Valkey: Memory RSS overhead bytes{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.rss_overhead_bytes[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "units": "B",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.rss_overhead_bytes"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "d4d51ae4ce214699ba760fcb62289a51",
                                "name": "Valkey: Memory RSS overhead ratio{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.rss_overhead_ratio[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "value_type": "FLOAT",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.rss_overhead_ratio"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "e3733b2993cb4199bfac8b0711d4bb72",
                                "name": "Valkey: Memory used scripts{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.memory.used_memory_scripts[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Memory.used_memory_scripts"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.Server.valkey_version"
                                ]
                            },
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "return JSON.stringify(parseInt(value.split('.')[0]) >= 5 ? [{'{#SINGLETON}': ''}] : []);"
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "ac3a22522a2c4fa1a256794dd2292480",
                        "name": "AOF metrics discovery",
                        "type": "DEPENDENT",
                        "key": "valkey.persistence.aof.discovery",
                        "delay": "0",
                        "description": "If AOF is activated, additional metrics will be added",
                        "item_prototypes": [
                            {
                                "uuid": "e68a7b6931324bd79268a5151717505e",
                                "name": "Valkey: AOF base size{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.persistence.aof_base_size[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "AOF file size on latest startup or rewrite",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Persistence.aof_base_size"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "875ace20e5c94044ae63f36d98ac6256",
                                "name": "Valkey: AOF buffer length{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.persistence.aof_buffer_length[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "Size of the AOF buffer",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Persistence.aof_buffer_length"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "679bd919383a4106916a84fae5be47bb",
                                "name": "Valkey: AOF current size{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.persistence.aof_current_size[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "AOF current file size",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Persistence.aof_current_size"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "ff9955c770aa4e0883cc72bf1d762be7",
                                "name": "Valkey: AOF delayed fsync{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.persistence.aof_delayed_fsync[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Delayed fsync counter",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Persistence.aof_delayed_fsync"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "0606ef5762b04d91abba95269eb77ae2",
                                "name": "Valkey: AOF pending background I/O fsync{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.persistence.aof_pending_bio_fsync[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Number of fsync pending jobs in background I/O queue",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Persistence.aof_pending_bio_fsync"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "194061b8ad6c484ca8c732d69eeb0f1e",
                                "name": "Valkey: AOF pending rewrite{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.persistence.aof_pending_rewrite[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Flag indicating an AOF rewrite operation will",
                                "valuemap": {
                                    "name": "Valkey flag"
                                },
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Persistence.aof_pending_rewrite"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "1a39f5854ae948759deadac0ae57e9f7",
                                "name": "Valkey: AOF rewrite buffer length{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.persistence.aof_rewrite_buffer_length[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "Size of the AOF rewrite buffer",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Persistence.aof_rewrite_buffer_length"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "preprocessing": [
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "return JSON.stringify(JSON.parse(value).Persistence.aof_enabled === '1'\n  ? [{'{#SINGLETON}': ''}]\n  : []);"
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "4379bad5624a4a5db0c86c5332cf5cc9",
                        "name": "Replication metrics discovery",
                        "type": "DEPENDENT",
                        "key": "valkey.replication.master.discovery",
                        "delay": "0",
                        "description": "If the instance is the master and the slaves are connected, additional metrics are provided",
                        "item_prototypes": [
                            {
                                "uuid": "2d26ebb0a5024378b59b3f0ee8e7fff4",
                                "name": "Valkey slave {#SLAVE_IP}:{#SLAVE_PORT}: Replication lag in bytes",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.lag_bytes[\"{#SLAVE_IP}:{#SLAVE_PORT}\"]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "Replication lag in bytes",
                                "preprocessing": [
                                    {
                                        "type": "JAVASCRIPT",
                                        "parameters": [
                                            "var repl = JSON.parse(value).Replication;\nvar res = Object.keys(repl)\n    .filter(function (v) {return v.match(/slave\\d+/)})\n    .filter(function (v) {return (repl[v].ip === \"{#SLAVE_IP}\" && repl[v].port === \"{#SLAVE_PORT}\")})\n    .map(function (v) {return repl[v].offset})[0];\n\nif (res === undefined) {\n    throw 'Slave {#SLAVE_IP}:{#SLAVE_PORT} is no longer available.';\n}\n\nreturn res;"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey: Slave {#SLAVE_IP}:{#SLAVE_PORT}"
                                    }
                                ]
                            }
                        ],
                        "graph_prototypes": [
                            {
                                "uuid": "0bce553a5a1240e2b097754dba8f6939",
                                "name": "Valkey slave {#SLAVE_IP}:{#SLAVE_PORT}: Replication lag bytes",
                                "graph_items": [
                                    {
                                        "drawtype": "BOLD_LINE",
                                        "color": "1A7C11",
                                        "item": {
                                            "host": "Valkey",
                                            "key": "valkey.replication.lag_bytes[\"{#SLAVE_IP}:{#SLAVE_PORT}\"]"
                                        }
                                    }
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "preprocessing": [
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "var repl = JSON.parse(value).Replication;\nreturn JSON.stringify(Object.keys(repl)\n  .filter(function (v) {return v.match(/slave\\d+/)})\n  .map(function (v){\n    return {\"{#SLAVE_IP}\": repl[v].ip, \"{#SLAVE_PORT}\": repl[v].port}\n  }));"
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "ca9296a7acb548789865ac716a54ce10",
                        "name": "Slave metrics discovery",
                        "type": "DEPENDENT",
                        "key": "valkey.replication.slave.discovery",
                        "delay": "0",
                        "description": "If the instance is a replica, additional metrics are provided",
                        "item_prototypes": [
                            {
                                "uuid": "92e4b2133a6a4ec28e739bbef94ab992",
                                "name": "Valkey: Master host{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.master_host[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "trends": "0",
                                "value_type": "CHAR",
                                "description": "Host or IP address of the master",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Replication.master_host"
                                        ]
                                    },
                                    {
                                        "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                        "parameters": [
                                            "1d"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "0acbeb8633da41be9bfb56627a946fd9",
                                "name": "Valkey: Master last I/O seconds ago{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.master_last_io_seconds_ago[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "s",
                                "description": "Number of seconds since the last interaction with master",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Replication.master_last_io_seconds_ago"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ],
                                "trigger_prototypes": [
                                    {
                                        "uuid": "292f477d970d4a138d2d1b2c45d965dd",
                                        "expression": "min(/Valkey/valkey.replication.master_last_io_seconds_ago[{#SINGLETON}],5m)>{$VALKEY.REPL.LAG.MAX.WARN}",
                                        "name": "Valkey: Replication lag with master is too high (over {$VALKEY.REPL.LAG.MAX.WARN} in 5m)",
                                        "priority": "WARNING"
                                    }
                                ]
                            },
                            {
                                "uuid": "8024463a9f644e6e91def5a0e88abd4b",
                                "name": "Valkey: Master link status{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.master_link_status[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "trends": "0",
                                "value_type": "CHAR",
                                "description": "Status of the link (up/down)",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Replication.master_link_status"
                                        ]
                                    },
                                    {
                                        "type": "BOOL_TO_DECIMAL",
                                        "parameters": [
                                            ""
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "da63a0b31bed47edaba3f802738fa4fd",
                                "name": "Valkey: Master port{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.master_port[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Master listening TCP port",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Replication.master_port"
                                        ]
                                    },
                                    {
                                        "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                        "parameters": [
                                            "1d"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "6835a260e66741159ee10046265a1ea4",
                                "name": "Valkey: Master sync in progress{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.master_sync_in_progress[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Indicate the master is syncing to the replica",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Replication.master_sync_in_progress"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "3f92dfa07237495ca7696bb4b078eb93",
                                "name": "Valkey: Slave priority{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.slave_priority[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "The priority of the instance as a candidate for failover",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Replication.slave_priority"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "f38492a49f214ec8b71fdc51d243281e",
                                "name": "Valkey: Slave priority{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.slave_read_only[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "description": "Flag indicating if the replica is read-only",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Replication.slave_read_only"
                                        ]
                                    },
                                    {
                                        "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                        "parameters": [
                                            "1d"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            },
                            {
                                "uuid": "7eb23d1d96ea489c9e0b39b7839147bd",
                                "name": "Valkey: Slave replication offset{#SINGLETON}",
                                "type": "DEPENDENT",
                                "key": "valkey.replication.slave_repl_offset[{#SINGLETON}]",
                                "delay": "0",
                                "history": "7d",
                                "units": "B",
                                "description": "The replication offset of the replica instance",
                                "preprocessing": [
                                    {
                                        "type": "JSONPATH",
                                        "parameters": [
                                            "$.Replication.slave_repl_offset"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                                },
                                "tags": [
                                    {
                                        "tag": "Application",
                                        "value": "Valkey"
                                    }
                                ]
                            }
                        ],
                        "graph_prototypes": [
                            {
                                "uuid": "bbc5fb3021be4c3381e48fe623b611f0",
                                "name": "Valkey: Replication lag time{#SINGLETON}",
                                "graph_items": [
                                    {
                                        "drawtype": "BOLD_LINE",
                                        "color": "1A7C11",
                                        "item": {
                                            "host": "Valkey",
                                            "key": "valkey.replication.master_last_io_seconds_ago[{#SINGLETON}]"
                                        }
                                    }
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "valkey.info[\"{$VALKEY.CONN.URI}\"]"
                        },
                        "preprocessing": [
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "return JSON.stringify(JSON.parse(value).Replication.role === 'slave'\n  ? [{'{#SINGLETON}': ''}]\n  : []);"
                                ]
                            }
                        ]
                    }
                ],
                "macros": [
                    {
                        "macro": "{$VALKEY.CLIENTS.PRC.MAX.WARN}",
                        "value": "80",
                        "description": "Maximum percentage of connected clients"
                    },
                    {
                        "macro": "{$VALKEY.CONN.URI}",
                        "value": "tcp://localhost:6379",
                        "description": "Connection string in the URI format (password is not used). This param overwrites a value configured in the \"Server\" option of the configuration file (if it's set), otherwise, the plugin's default value is used: \"tcp://localhost:6379\""
                    },
                    {
                        "macro": "{$VALKEY.LLD.FILTER.DB.MATCHES}",
                        "value": ".*",
                        "description": "Filter of discoverable databases"
                    },
                    {
                        "macro": "{$VALKEY.LLD.FILTER.DB.NOT_MATCHES}",
                        "value": "CHANGE_IF_NEEDED",
                        "description": "Filter to exclude discovered databases"
                    },
                    {
                        "macro": "{$VALKEY.LLD.PROCESS_NAME}",
                        "value": "valkey-server",
                        "description": "Valkey server process name for LLD"
                    },
                    {
                        "macro": "{$VALKEY.MEM.FRAG_RATIO.MAX.WARN}",
                        "value": "1.5",
                        "description": "Maximum memory fragmentation ratio"
                    },
                    {
                        "macro": "{$VALKEY.MEM.PUSED.MAX.WARN}",
                        "value": "90",
                        "description": "Maximum percentage of memory used"
                    },
                    {
                        "macro": "{$VALKEY.PROCESS_NAME}",
                        "value": "valkey-server",
                        "description": "Valkey server process name"
                    },
                    {
                        "macro": "{$VALKEY.REPL.LAG.MAX.WARN}",
                        "value": "30s",
                        "description": "Maximum replication lag in seconds"
                    },
                    {
                        "macro": "{$VALKEY.SLOWLOG.COUNT.MAX.WARN}",
                        "value": "1",
                        "description": "Maximum number of slowlog entries per second"
                    }
                ],
                "dashboards": [
                    {
                        "uuid": "7c5bdd7bc74648c4891abc6649d105d0",
                        "name": "Valkey overview",
                        "pages": [
                            {
                                "widgets": [
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Clients",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "x": "12",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Keyspace",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "y": "5",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Commands",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "x": "12",
                                        "y": "5",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Expired keys",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "y": "10",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Persistence",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "x": "12",
                                        "y": "10",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Slaves",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "y": "15",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Slowlog",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "x": "12",
                                        "y": "15",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Uptime",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "y": "20",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "rows",
                                                "value": "1"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "2"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Replication lag time{#SINGLETON}",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "ee4c29eb7a0f443fafb7e7d3b9df7b24",
                        "name": "Valkey performance",
                        "pages": [
                            {
                                "widgets": [
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: CPU",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "x": "12",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Network",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "y": "5",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Memory",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_CLASSIC",
                                        "x": "12",
                                        "y": "5",
                                        "width": "12",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "source_type",
                                                "value": "0"
                                            },
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid",
                                                "value": {
                                                    "name": "Valkey: Memory fragmentation",
                                                    "host": "Valkey"
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "valuemaps": [
                    {
                        "uuid": "82f4dc4ef0c9471d82dbe3605f4f31d0",
                        "name": "Valkey bgsave time",
                        "mappings": [
                            {
                                "value": "- 1s",
                                "newvalue": "Inactive"
                            }
                        ]
                    },
                    {
                        "uuid": "098c2240a8e947fc9f6f0a677ffcbc0e",
                        "name": "Valkey bgwrite status",
                        "mappings": [
                            {
                                "value": "0",
                                "newvalue": "Error"
                            },
                            {
                                "value": "1",
                                "newvalue": "Ok"
                            }
                        ]
                    },
                    {
                        "uuid": "3b6cd97c65d14e10bdabf5c42d767ad9",
                        "name": "Valkey flag",
                        "mappings": [
                            {
                                "value": "0",
                                "newvalue": "No"
                            },
                            {
                                "value": "1",
                                "newvalue": "Yes"
                            }
                        ]
                    },
                    {
                        "uuid": "47c80efdf46745f1959eee76f68014e7",
                        "name": "Valkey repl offset",
                        "mappings": [
                            {
                                "value": "-1 B",
                                "newvalue": "Undefined"
                            }
                        ]
                    },
                    {
                        "uuid": "ae3eec95cd1c440ba6c67ed5d7b7b915",
                        "name": "Service state",
                        "mappings": [
                            {
                                "value": "0",
                                "newvalue": "Down"
                            },
                            {
                                "value": "1",
                                "newvalue": "Up"
                            }
                        ]
                    }
                ]
            }
        ],
        "triggers": [
            {
                "uuid": "65e4652dbebe47c4b46e47bb8a17aac6",
                "expression": "min(/Valkey/valkey.clients.connected,5m)/last(/Valkey/valkey.config.maxclients)*100>{$VALKEY.CLIENTS.PRC.MAX.WARN}",
                "name": "Valkey: Total number of connected clients is too high (over {$VALKEY.CLIENTS.PRC.MAX.WARN}% in 5m)",
                "priority": "WARNING",
                "description": "When the number of clients reaches the value of the \"maxclients\" parameter, new connections will be rejected.\n\nhttps://valkey.io/topics/clients#maximum-number-of-clients"
            }
        ],
        "graphs": [
            {
                "uuid": "c04e813d482a4709b13aa2a98911e11d",
                "name": "Valkey: Clients",
                "graph_items": [
                    {
                        "drawtype": "GRADIENT_LINE",
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.clients.connected"
                        }
                    },
                    {
                        "sortorder": "1",
                        "drawtype": "GRADIENT_LINE",
                        "color": "2774A4",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.clients.blocked"
                        }
                    }
                ]
            },
            {
                "uuid": "8643a1b690dc456b8daacc4b2b0810d4",
                "name": "Valkey: Commands",
                "graph_items": [
                    {
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.stats.instantaneous_ops.rate"
                        }
                    }
                ]
            },
            {
                "uuid": "765c0125e8d549dc88279f65f38b6ed9",
                "name": "Valkey: CPU",
                "graph_items": [
                    {
                        "drawtype": "GRADIENT_LINE",
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.cpu.sys"
                        }
                    },
                    {
                        "sortorder": "1",
                        "color": "2774A4",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.cpu.sys_children"
                        }
                    },
                    {
                        "sortorder": "2",
                        "drawtype": "GRADIENT_LINE",
                        "color": "F63100",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.cpu.user"
                        }
                    },
                    {
                        "sortorder": "3",
                        "color": "A54F10",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.cpu.user_children"
                        }
                    }
                ]
            },
            {
                "uuid": "fd25ac6239064cd29dc1939cd15005de",
                "name": "Valkey: Expired keys",
                "graph_items": [
                    {
                        "drawtype": "BOLD_LINE",
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.stats.expired_keys"
                        }
                    },
                    {
                        "sortorder": "1",
                        "drawtype": "BOLD_LINE",
                        "color": "2774A4",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.stats.evicted_keys"
                        }
                    }
                ]
            },
            {
                "uuid": "24cff7af388e41a8899e2916f12224d1",
                "name": "Valkey: Keyspace",
                "graph_items": [
                    {
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.stats.keyspace_hits"
                        }
                    },
                    {
                        "sortorder": "1",
                        "color": "2774A4",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.stats.keyspace_misses"
                        }
                    }
                ]
            },
            {
                "uuid": "a3ea32878f25481998e0fde7ba00a11b",
                "name": "Valkey: Memory",
                "graph_items": [
                    {
                        "drawtype": "GRADIENT_LINE",
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.memory.used_memory"
                        }
                    },
                    {
                        "sortorder": "1",
                        "drawtype": "BOLD_LINE",
                        "color": "2774A4",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.memory.used_memory_rss"
                        }
                    },
                    {
                        "sortorder": "2",
                        "drawtype": "BOLD_LINE",
                        "color": "F63100",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.memory.used_memory_peak"
                        }
                    }
                ]
            },
            {
                "uuid": "ff8d6320a8e246a39d35ccb93220eb3a",
                "name": "Valkey: Memory fragmentation",
                "graph_items": [
                    {
                        "drawtype": "BOLD_LINE",
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.memory.fragmentation_ratio"
                        }
                    }
                ]
            },
            {
                "uuid": "b3db4cc8247647faae0d3c2389f37d80",
                "name": "Valkey: Network",
                "graph_items": [
                    {
                        "drawtype": "GRADIENT_LINE",
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.stats.instantaneous_input.rate"
                        }
                    },
                    {
                        "sortorder": "1",
                        "drawtype": "GRADIENT_LINE",
                        "color": "2774A4",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.stats.instantaneous_output.rate"
                        }
                    }
                ]
            },
            {
                "uuid": "81fde2046d2340119b2002da2b75df16",
                "name": "Valkey: Persistence",
                "graph_items": [
                    {
                        "drawtype": "BOLD_LINE",
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.persistence.rdb_last_bgsave_time_sec"
                        }
                    },
                    {
                        "sortorder": "1",
                        "drawtype": "BOLD_LINE",
                        "color": "2774A4",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.persistence.aof_last_rewrite_time_sec"
                        }
                    }
                ]
            },
            {
                "uuid": "1ace370516b74875977788d44ab478e5",
                "name": "Valkey: Slaves",
                "graph_items": [
                    {
                        "drawtype": "GRADIENT_LINE",
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.replication.connected_slaves"
                        }
                    }
                ]
            },
            {
                "uuid": "8dd9935cb7a24004b9783c3f1a445f1b",
                "name": "Valkey: Slowlog",
                "graph_items": [
                    {
                        "drawtype": "GRADIENT_LINE",
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.slowlog.count[\"{$VALKEY.CONN.URI}\"]"
                        }
                    }
                ]
            },
            {
                "uuid": "32d954e849e64fe99bd8846b54aadede",
                "name": "Valkey: Uptime",
                "graph_items": [
                    {
                        "color": "1A7C11",
                        "item": {
                            "host": "Valkey",
                            "key": "valkey.server.uptime"
                        }
                    }
                ]
            }
        ]
    }
}